<html>

<img lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link href="https://afeld.github.io/emoji-css/emoji.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="scroll-down.js"></script>
</head>

<body>
    <section id="arriba">
        <nav class="navbar navbar-expand-sm bg-warning navbar-dark">
            <a class="navbar-brand" href="#">PanAPP</a>
            <ul class="navbar-nav">
                <li class="nav-item ">
                    <a class="nav-link" href="shopping_grid.html">Productos del dia</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Encargos</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="#">Mis pedidos</a>
                </li>
            </ul>
            <ul class="navbar-nav ml-auto nav-flex-icons">
                <li class="nav-item avatar">
                    <a class="nav-link p-0" href="#">
                        <img src="https://mdbootstrap.com/img/Photos/Avatars/avatar-5.jpg"
                            class="rounded-circle z-depth-0" alt="avatar image" height="35">
                    </a>
                </li>
            </ul>
        </nav>
    </section>
    <a class='flotante' href="#arriba" style="width:50px; padding-bottom:65px;"> <img
            style="display: scroll; position: fixed; bottom: 40px; top: auto; right: 15px; left: auto; height: auto; width: 20px"
            src="upscrollarrow.png"></img></a>
    <img style="display: scroll; position: fixed; bottom: 20px; top: auto; right: 15px; left: auto; height: auto; width: 20px"
        src="downscrollarrow.png"></img>

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <body>
        <div class="list-group" id=lista></div>
    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript">
        var usuarioactual = localStorage.getItem("usuarioactual");
        var productos = ["Barra Rustica", "Barra de picos", "Chapata", "Torta de Aranda", "Baguette", "Tarta de Santiago", "Tarta de tres chocolates", "Tarta Red Velvet", "Tarta de zanahoria", "Tarta de queso", "Empanada de atun", "Empanada de pollo", "Empanada de jamon y queso", "Empanada vegana", "Empanada de bacalao"];
        var arrayPedidos = new Array(10);
        for (var i = 0; i < arrayPedidos.length; i++) {
            arrayPedidos[i] = new Array(10);
        }

        var pedidoprueba = JSON.parse("[{\"Barra Rustica\":{\"nombre\":\"Barra Rustica\",\"dias\":\"Lunes Miercoles \",\"cantidad\":\"1\",\"precioproducto\":1,\"precioporcantidad\":1}}]");
        var pedidoprueba2 = JSON.parse("[{\"Barra de picos\":{\"nombre\":\"Barra de picos\",\"dias\":\"Miercoles Domingo \",\"cantidad\":\"1\",\"precioproducto\":0.9,\"precioporcantidad\":0.9},\"Chapata\":{\"nombre\":\"Chapata\",\"dias\":\"Martes Miercoles \",\"cantidad\":\"1\",\"precioproducto\":1.5,\"precioporcantidad\":1.5}}]");
        var pedidoprueba3 = JSON.parse("[{\"Torta de Aranda\":{\"nombre\":\"Torta de Aranda\",\"dias\":\"Martes Sabado \",\"cantidad\":\"1\",\"precioproducto\":3.5,\"precioporcantidad\":3.5},\"Baguette\":{\"nombre\":\"Baguette\",\"dias\":\"Jueves Domingo \",\"cantidad\":\"2\",\"precioproducto\":1,\"precioporcantidad\":2}}]");
        var pedidoprueba4 = JSON.parse("[{\"Barra de picos\":{\"nombre\":\"Barra de picos\",\"dias\":\"Sabado \", \"cantidad\":\"10\",\"precioproducto\":0.9,\"precioporcantidad\":9}}]");
        var pedidoprueba5 = JSON.parse("[{\"Empanada vegana\":{\"nombre\":\"Empanada vegana\", \"dias\":\"Martes Miercoles Domingo \",\"cantidad\":\"1\",\"precioproducto\":8,\"precioporcantidad\":8},\"Tarta Red Velvet\":{\"nombre\":\"Tarta Red Velvet\",\"dias\":\"Miercoles Sabado \",\"cantidad\":\"1\",\"precioproducto\":12,\"precioporcantidad\":12}}]");
        var pedidoprueba6 = JSON.parse("[{\"Chapata\":{\"nombre\":\"Chapata\",\"dias\":\"Lunes Martes \",\"cantidad\":\"1\",\"precioproducto\":1.5,\"precioporcantidad\":1.5},\"Barra Rustica\":{\"nombre\":\"Barra Rustica\",\"dias\":\"Miercoles Viernes \",\"cantidad\":\"1\",\"precioproducto\":1,\"precioporcantidad\":1},\"Tarta de queso\":{\"nombre\":\"Tarta de queso\",\"dias\":\"Miercoles Miercoles \",\"cantidad\":\"1\",\"precioproducto\":8,\"precioporcantidad\":8}}]");
        var pedidoprueba7 = JSON.parse("[{\"Tarta de Santiago\":{\"nombre\":\"Tarta de Santiago\",\"dias\":\"Martes Sabado Domingo \",\"cantidad\":\"1\",\"precioproducto\":9.6,\"precioporcantidad\":9.6}}]");
        var pedidoprueba8 = JSON.parse("[{\"Barra Rustica\":{\"nombre\":\"Barra Rustica\",\"dias\":\"Lunes Domingo \",\"cantidad\":\"1\",\"precioproducto\":1,\"precioporcantidad\":1},\"Tarta de Santiago\":{\"nombre\":\"Tarta de Santiago\",\"dias\":\"Lunes Domingo \",\"cantidad\":\"1\",\"precioproducto\":9.6,\"precioporcantidad\":9.6},\"Empanada de atun\":{\"nombre\":\"Empanada de atun\",\"dias\":\"Viernes Viernes \",\"cantidad\":\"1\",\"precioproducto\":8,\"precioporcantidad\":8}}]");
        var pedidoprueba9 = JSON.parse("[{\"Empanada de bacalao\":{\"nombre\":\"Empanada de bacalao\",\"dias\":\"Lunes Martes Viernes \",\"cantidad\":\"1\",\"precioproducto\":8,\"precioporcantidad\":8},\"Baguette\":{\"nombre\":\"Baguette\",\"dias\":\"Lunes Viernes \",\"cantidad\":\"4\",\"precioproducto\":1,\"precioporcantidad\":4}}]");
        var pedidoprueba10 = JSON.parse("[{\"Tarta Red Velvet\":{\"nombre\":\"Tarta Red Velvet\",\"dias\":\"Jueves \",\"cantidad\":\"5\",\"precioproducto\":12,\"precioporcantidad\":60}}]");
        var pedidoprueba11 = JSON.parse("[{\"Barra de picos\":{\"nombre\":\"Barra de picos\",\"dias\":\"Sabado \", \"cantidad\":\"10\",\"precioproducto\":0.9,\"precioporcantidad\":9}}]");
        var pedidoprueba11 = JSON.parse("[{\"Tarta de queso\":{\"nombre\":\"Tarta de queso\",\"dias\":\"Lunes Sabado \",\"cantidad\":\"1\",\"precioproducto\":8,\"precioporcantidad\":8},\"Tarta de zanahoria\":{\"nombre\":\"Tarta de zanahoria\",\"dias\":\"Martes Jueves \",\"cantidad\":\"3\",\"precioproducto\":10,\"precioporcantidad\":30}}]");
        var pedidoprueba12 = JSON.parse("[{\"Barra de picos\":{\"nombre\":\"Barra de picos\",\"dias\":\"Martes Domingo \",\"cantidad\":\"10\",\"precioproducto\":0.9,\"precioporcantidad\":9}}]");

        arrayPedidos[1][0] = pedidoprueba3;
        arrayPedidos[1][1] = pedidoprueba4;
        arrayPedidos[2][0] = pedidoprueba5;
        arrayPedidos[2][1] = pedidoprueba6;
        arrayPedidos[3][0] = pedidoprueba7;
        arrayPedidos[3][1] = pedidoprueba8;
        arrayPedidos[4][0] = pedidoprueba9;
        arrayPedidos[4][1] = pedidoprueba10;
        arrayPedidos[5][0] = pedidoprueba11;
        arrayPedidos[5][1] = pedidoprueba12;
        arrayPedidos[6][0] = pedidoprueba;
        arrayPedidos[6][1] = pedidoprueba2;

        for (var j = 0; j < 2; j++) {
            console.log("Array de pedidos:[" + usuarioactual + "][" + j + "]:", arrayPedidos[usuarioactual][j]);
        }
        var contador=0;
        var cantidad=0;
        var costediario=0;
        document.getElementById('lista').innerHTML +="<h1 class='text-center'>Actualmente tienes estos pedidos encargados</h1>"
        for (var i = 0; i < arrayPedidos.length; i++) {
            for (var j = 0; j < productos.length; j++) {
                if (arrayPedidos[usuarioactual][i][0][productos[j]] !== undefined) {
                    contador++;
                    cantidad=arrayPedidos[usuarioactual][i][0][productos[j]].cantidad;
                    costediario=arrayPedidos[usuarioactual][i][0][productos[j]].precioporcantidad;
                    dias=arrayPedidos[usuarioactual][i][0][productos[j]].dias;
                    console.log(arrayPedidos[usuarioactual][i][0][productos[j]]);
                    document.getElementById('lista').innerHTML += "<a class='list-group-item list-group-item-info flex-column align-items-start'><div class='d-flex w-100 justify-content-between'><h5 class='mb-1'>Pedido diario "+contador+"</h5></div><p class='mb-1'>" + productos[j] + "</p><p class='mb-1'> Cantidad: " + cantidad + " unidades</p><p class='mb-1'> Coste diario: " + costediario+ "€</p><p class='mb-1'> Lo recibes en tu dirección cada: " + dias+ "</p></a>"
                }
            }
        }
            //console.log(arrayPedidos[usuarioactual][0][0]["Baguette"]);
            //console.log(arrayPedidos[usuarioactual][0][0]["Empanada de bacalao"]);
    </script>